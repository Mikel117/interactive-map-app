<div #map style="width: 100%; height: 100%"></div>
@if (showError) {
  <app-error-toast [message]="errorMessage" (closed)="showError = false"></app-error-toast>
}
@if (showCountrySelector) {
  <countries-map-search (onClickBackButton)="onBackButtonClick()"></countries-map-search>
} @else {
  <div class="absolute-container-interface" (click)="showSelector()">
    <h1>{{ selectedCountry() ? selectedCountry()?.label : 'Seleccionar País' }}</h1>
    <img src="./edit.svg" alt="Chevron" class="icon" />
  </div>

  <div class="absolute-container-interface-bottom">
    <button (click)="traceOptimizedRoute()" [disabled]="!hasEnoughMarkers">
      {{
        isRouting
          ? 'Calculando…'
          : totalDistanceKm !== null
            ? totalDistanceKm + ' km'
            : 'Trazar rutas y distancia total'
      }}
    </button>
  </div>
}
